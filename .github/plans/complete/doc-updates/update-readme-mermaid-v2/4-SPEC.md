# Spec: update-readme-mermaid-v2

## Overview

- Purpose: Update the README Mermaid workflow diagram to reflect current V2 incremental mode with `research-agent` and `implement-agent` installed.
- Goals & success criteria:
  - Diagram shows both installed subagents.
  - Diagram shows delegation sequence Research → Implement.
  - Diagram stop point reflects “Stop after Implement” (not after research).
  - Diagram does not imply test/document are installed.

## Design

- Architecture: Update the Mermaid graph in README to include `implement-agent` and its interactions.
- APIs & interfaces: Not applicable.

### Exact Mermaid diagram replacement (README)

Replace the existing Mermaid diagram block under “Workflow Diagram” with the following:

mermaid
graph TD
subgraph "Prompts"
NF[new-feature]
UF[update-feature]
end

    subgraph "Orchestrator"
        VF[vibe-flow]
    end

    subgraph "Subagents"
        RA[research-agent]
        IA[implement-agent]
    end

    subgraph "PDD Artifacts"
        F1[1-OVERVIEW.md]
        F2[2-PROGRESS.md]
        F3[3-RESEARCH.md]
        F4[4-SPEC.md]
        F5[5-PLAN.md]
        CODE[repo changes]
    end

    NF & UF -->|Invokes| VF

    %% Orchestrator inits
    VF -->|Creates| F1
    VF -->|Creates| F2

    VF -->|Delegate: 1. Research| RA
    RA -->|Creates/Updates| F3
    RA -->|Creates/Updates| F4
    RA -->|Creates/Updates| F5
    RA -->|Updates| F2
    RA -.->|Signal| VF

    VF -->|Delegate: 2. Implement| IA
    IA -->|Reads| F5
    IA -->|Updates| F2
    IA -->|Changes| CODE
    IA -.->|Signal| VF

    VF -.->|Stop after Implement| CODE

    style VF fill:#8e44ad,stroke:#333,color:#fff
    style RA fill:#27ae60,stroke:#333,color:#fff
    style IA fill:#2980b9,stroke:#333,color:#fff

    style F1 fill:#f9f9f9,stroke:#666,stroke-dasharray: 5 5
    style F2 fill:#f9f9f9,stroke:#666,stroke-dasharray: 5 5
    style F3 fill:#f9f9f9,stroke:#666,stroke-dasharray: 5 5
    style F4 fill:#f9f9f9,stroke:#666,stroke-dasharray: 5 5
    style F5 fill:#f9f9f9,stroke:#666,stroke-dasharray: 5 5
    style CODE fill:#f9f9f9,stroke:#666,stroke-dasharray: 5 5

Notes:

- `CODE[repo changes]` replaces `DOCS[docs/*.md]` to avoid implying a document-only stop in incremental mode.
- `IA` node uses a distinct color to differentiate from `RA`.

## Constraints

- Scope limited to README Mermaid diagram only.
- Avoid adding or implying test/document phases in the diagram.
- Preserve existing prompt nodes and orchestrator node.

## Acceptance Criteria

- README diagram shows `implement-agent` in “Subagents”.
- Diagram includes delegation from `vibe-flow` to `implement-agent` after research.
- Diagram stop annotation reads “Stop after Implement”.
- Diagram removes `docs/*.md` node and replaces with `repo changes` node.

## Deliverables

- Updated Mermaid diagram block in README.
- `5-PLAN.md` tasks aligned to the diagram change.

---

_Generated by `research` skill._
